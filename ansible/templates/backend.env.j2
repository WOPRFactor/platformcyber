# ============================================
# Backend Environment Variables - {{ environment | upper }}
# ============================================

# Ambiente
FLASK_ENV={{ environment }}
FLASK_DEBUG={{ '1' if environment == 'dev' else '0' }}

# Seguridad
SECRET_KEY={{ secret_key }}
JWT_SECRET_KEY={{ jwt_secret_key }}

# Base de Datos
DATABASE_URL=postgresql://pentest_{{ environment }}_user:{{ db_password }}@localhost:{{ postgres_port }}/pentest_{{ environment }}

# Redis
REDIS_URL=redis://localhost:{{ redis_port }}/{{ '3' if environment == 'dev' else '4' }}
CELERY_BROKER_URL=redis://localhost:{{ redis_port }}/{{ '1' if environment == 'dev' else '2' }}
CELERY_RESULT_BACKEND=redis://localhost:{{ redis_port }}/{{ '2' if environment == 'dev' else '3' }}

# CORS
{% if environment == 'dev' %}
CORS_ORIGINS=http://localhost:{{ frontend_port }},http://localhost:5173,http://localhost:5176,http://localhost:5177,http://localhost:5178,http://localhost:5179,http://192.168.0.11:{{ frontend_port }}
{% else %}
CORS_ORIGINS=https://pentest.tudominio.com,https://www.pentest.tudominio.com
{% endif %}

# Workspaces y Archivos
WORKSPACES_BASE_DIR={{ env_dirs[environment].workspaces }}
PROJECT_TMP_DIR={{ env_dirs[environment].tmp }}

# Puerto Backend
BACKEND_PORT={{ backend_port }}

# Logging
LOG_DIR={{ env_dirs[environment].logs }}
LOG_FILE=app.log
LOG_LEVEL={{ 'DEBUG' if environment == 'dev' else 'INFO' }}

# Rate Limiting
RATE_LIMIT_ENABLED={{ 'false' if environment == 'dev' else 'true' }}

